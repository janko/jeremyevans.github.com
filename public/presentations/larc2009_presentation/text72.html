<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
     "http://www.w3.org/TR/html4/transitional.dtd">
<html>
<head>
  <meta HTTP-EQUIV=CONTENT-TYPE CONTENT="text/html; charset=utf-8">
  <title>Slide 73</title>
</head>
<body>
<center>
<a href="text0.html">First page</a> <a href="text71.html">Back</a> <a href="text73.html">Continue</a> <a href="text84.html">Last page</a> <a href="sequel-larc2009-pres.html">Overview</a> <a href="img72.html">Graphics</a></center><br>
<h1 style="direction:ltr;"></h1>
<br>
<h3>Notes:</h3>
<p style="direction:ltr;">One example of an association type it doesn't support natively is ActiveRecord's has many through has many association.</p>
<p style="direction:ltr;"></p>
<p style="direction:ltr;">This association can easily be built using Sequel's toolkit.  The key is the dataset option, which allows you to specify the dataset to use for the association.</p>
<p style="direction:ltr;"></p>
<p style="direction:ltr;">In this example, each firm has many clients and each client has many invoices.</p>
<p style="direction:ltr;"></p>
<p style="direction:ltr;">To get the invoices for the firm, you load all invoices where the client's firm is the current firm.</p>
<p style="direction:ltr;"></p>
<p style="direction:ltr;">Eager graph eagerly loads the clients for each firm, so you also get the benefit of the client object for each invoice automatically being cached in the returned invoices.</p>
<p style="direction:ltr;"></p>
<p style="direction:ltr;">You can create custom associations in ActiveRecord, but you need to write all the SQL by hand.   That's painful enough, but what's worse is you can't eagerly load custom associations in ActiveRecord.</p>
</body>
</html>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Roda</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>

  <link rel="stylesheet" href=".//css/reset.css" type="text/css"/>

  <link type="text/css" href=".//css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href=".//css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href=".//css/sh_style.css" rel="stylesheet" />
  <link type="text/css" href=".//css/tipsy.css" rel="stylesheet" />

  <link rel="stylesheet" href=".//css/showoff.css" type="text/css"/>

  

  <script type="text/javascript" src=".//js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src=".//js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src=".//js/jquery-print.js"></script>
  <script type="text/javascript" src=".//js/jquery.batchImageLoad.js"></script>
  <script type="text/javascript" src=".//js/jquery.parsequery.min.js"></script>
  <script type="text/javascript" src=".//js/jquery.doubletap-0.1.js"></script>
  <script type="text/javascript" src=".//js/jquery.tipsy.js"></script>

  <script type="text/javascript" src=".//js/fg.menu.js"></script>
  <script type="text/javascript" src=".//js/showoff.js"></script>
  <script type="text/javascript" src=".//js/jTypeWriter.js"> </script>
  <script type="text/javascript" src=".//js/sh_main.min.js"></script>
  <script type="text/javascript" src=".//js/core.js"></script>
  <script type="text/javascript" src=".//js/showoffcore.js"></script>
  <script type="text/javascript" src=".//js/coffee-script.js"></script>

  
    
      <script type="text/javascript" src=".//js/sh_lang/sh_ruby.min.js"></script>
    
  

  
    
    <link rel="stylesheet" href=".//file/fonts.css" type="text/css"/>
  
    
    <link rel="stylesheet" href=".//file/something.css" type="text/css"/>
  

  

  <script type="text/javascript">
  
  $(function(){
    
      if(!('slaveWindow' in window) && window.name !== 'toolbar' && $(window).width() < $(document).width()) {
        no_resize = true;
        $('body').css("zoom", ""+($(window).width()*100.0)/$(document).width()+"%");
        $('body').css("overflow-y", "auto");
        $('body').css("overflow-x", "hidden");
        $('#notesInfo').css("font-size", ""+$(document).width()*14.0/$(window).width()+"px");
        $('#notesInfo').css("line-height", ""+$(document).width()*20.0/$(window).width()+"px");
      }
    
      setupPreso(false, './');
  });
  </script>

</head>

<body>

<div id="help">
  <table>
    <tr><td class="key">z, ?</td><td>toggle help (this)</td></tr>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">shift-space, &larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>toggle debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">n</td><td>toggle notes</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso"><center>loading presentation...</center></div>
<div id="footer">
  <span id="notesInfo"></span>
  <img id="disconnected" src="/css/disconnected.png" />
</div>

<div id="slides" class="offscreen" style="display:none;">
<div id="slides/slides" class="slide bg-roda" data-transition="none"><div class="content bg-roda" ref="slides/slides/1">

<div class="notes">
<p>Hi everyone, this lightning talk is about Roda. Roda is a new Ruby web framework that came out last year.</p>
</div>
<h1 class="roda" style="font-size: 150px; position: absolute; bottom: 50px; right: 300px;">Roda</h1><h1 class="roda" style="font-size: 70px; position: absolute; bottom: 10px; left: 40px; text-align: left; line-height: 75%;">RailsConf 2015</h1></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/2">

<div class="notes">
<p>Roda is designed around the concept of a routing tree.</p>
</div>
<h1 style="font-size: 130px; position: absolute; top: 310px; left: 360px;">Routing</h1><h1 style="font-size: 200px; position: absolute; top: 360px; left: 220px;">Tree</h1></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/3">

<div class="notes">
<p>The routing tree concept was originally developed by the author of Rack back in 2009. He created a framework named Rum, which unfortunately was not released as a gem and never became well known.</p>
</div>
<h1 style="font-size: 230px; position: absolute; top: 210px; left: 160px;">Rum</h1></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/4">

<div class="notes">
<p>The fundemental difference between a routing tree and other approaches to routing is that when using a routing tree, routing and request handling are integrated. As you are routing a request, you can also be handling a request.</p>
</div>
<h1 style="font-size: 130px; position: absolute; top: 310px; left: 360px;">Routing</h1><h1 style="font-size: 200px; position: absolute; top: 360px; left: 220px;">Tree</h1></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/5">

<div class="notes">
<p>Here is Hello World in Roda.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.route do |r|
  "Hello World!"
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/6">

<div class="notes">
<p>For every request that is received, Roda yields to the block passed to Roda.route.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
<b>Roda.route</b> do |r|
  "Hello World!"
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/7">

<div class="notes">
<p>The block is yielded a Rack::Request instance, and by convention, the block argument is named r.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.route do <b>|r|</b>
  "Hello World!"
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/8">

<div class="notes">
<p>The return value of the block is used as the response. So this simple app returns Hello World for every request.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.route do |r|
  <b>"Hello World!"</b>
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/9">

<div class="notes">
<p>Routing is performed in Roda by calling routing methods on the Rack::Request instance. Here, calling r.get with the string hello means that only GET requests for /hello will yield to the block.|All other requests will not yield to the block, and will result in a 404 not found response.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.route do |r|
  <b>r.get 'hello'</b> do
    "Hello World!"
  end
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/10">

<div class="notes">
<p>You can nest routing methods inside each other, forming a tree, which is why this approach to routing is called a routing tree.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.route do |r|
  <b>r.on 'hello'</b> do
    <b>r.get 'world'</b> do
      "Hello World!"
    end
    <b>r.get 'railsconf'</b> do
      "Hello RailsConf"
    end
  end
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/11">

<div class="notes">
<p>Here, the block passed to r.on is yielded to only if the request path starts with /hello.|If the block is yielded to, /hello is stripped from the front of the path, and the routing process is repeated inside the block.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.route do |r|
  <b>r.on 'hello'</b> do
    r.get 'world' do
      "Hello World!"
    end
    r.get 'railsconf' do
      "Hello RailsConf"
    end
  end
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/12">

<div class="notes">
<p>So r.get here will only yield to the block if the request path is /hello/world.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.route do |r|
  r.on 'hello' do
    <b>r.get 'world'</b> do
      "Hello World!"
    end
    r.get 'railsconf' do
      "Hello RailsConf"
    end
  end
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/13">

<div class="notes">
<p>and since it returns Hello World, that will be returned as the response.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.route do |r|
  r.on 'hello' do
    r.get 'world' do
      <b>"Hello World!"</b>
    end
    r.get 'railsconf' do
      "Hello RailsConf"
    end
  end
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/14">

<div class="notes">
<p>If the request path is /hello/railsconf, it doesn&#x2019;t yield to the first r.get call, and execution continues.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.route do |r|
  r.on 'hello' do
    <b>r.get 'world'</b> do
      "Hello World!"
    end
    r.get 'railsconf' do
      "Hello RailsConf"
    end
  end
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/15">

<div class="notes">
<p>Then execution gets to r.get railsconf, which will yield to the block and then return the Hello RailsConf response.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.route do |r|
  r.on 'hello' do
    r.get 'world' do
      "Hello World!"
    end
    <b>r.get 'railsconf'</b> do
      "Hello RailsConf"
    end
  end
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/16">

<div class="notes">
<p>At any point in any of these blocks, you can handle the current request. In this example, we set an instance variable as soon as the r.on block is taken.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.route do |r|
  r.on 'hello' do
    <b>@greeting = 'Hello'</b>
    r.get 'world' do
      "#{@greeting} World!"
    end
    r.get 'railsconf' do
      "#{@greeting} RailsConf"
    end
  end
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/17">

<div class="notes">
<p>That instance variable can be used any of the route blocks in that branch of the routing tree.|This approach makes it unnecessary to have before filters all over your application in order to DRY code up.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.route do |r|
  r.on 'hello' do
    @greeting = 'Hello'
    r.get 'world' do
      "<b>#{@greeting}</b> World!"
    end
    r.get 'railsconf' do
      "<b>#{@greeting}</b> RailsConf"
    end
  end
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/18">

<div class="notes">
<p>Let&#x2019;s say you have an albums database and want to be able to edit attributes for albums. You have a route for each album, where a GET request shows a form for the album, and a POST request processes that form&#x2019;s input.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.plugin :render
Roda.route do |r|
  <b>r.is 'albums/:id'</b> do |album_id|
    @album = Album.find(album_id.to_i)
    <b>r.get</b> do
      view(:album)
    end
    <b>r.post</b> do
      @album.update(r['album'])
      r.redirect
    end
  end
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/19">

<div class="notes">
<p>Instead of using a before filter or duplicating code in both methods, you just set the appropriate instance variable as soon as the branch is taken.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.plugin :render
Roda.route do |r|
  r.is 'albums/:id' do |album_id|
    <b>@album = Album.find(album_id.to_i)</b>
    r.get do
      view(:album)
    end
    r.post do
      @album.update(r['album'])
      r.redirect
    end
  end
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/20">

<div class="notes">
<p>This makes the @album instance variable available in both the GET and POST routes.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.plugin :render
Roda.route do |r|
  r.is 'albums/:id' do |album_id|
    @album = Album.find(album_id.to_i)
    r.get do
      <b>view(:album)</b>
    end
    r.post do
      <b>@album</b>.update(r['album'])
      r.redirect
    end
  end
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/21">

<div class="notes">
<p>Roda is designed to be very extensible, with a small core that only supports the bare minimum needed for routing.|The view method here renders a template, but it&#x2019;s not included in Roda&#x2019;s core.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.plugin :render
Roda.route do |r|
  r.is 'albums/:id' do |album_id|
    @album = Album.find(album_id.to_i)
    r.get do
      <b>view</b>(:album)
    end
    r.post do
      @album.update(r['album'])
      r.redirect
    end
  end
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/22">

<div class="notes">
<p>Roda uses a plugin system to enable functionality. The render plugin shown here adds support for rendering templates, including adding the view method.|By loading only the plugins you need, you avoid the memory and performance penalities of code that you don&#x2019;t use.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
<b>Roda.plugin :render</b>
Roda.route do |r|
  r.is 'albums/:id' do |album_id|
    @album = Album.find(album_id.to_i)
    r.get do
      view(:album)
    end
    r.post do
      @album.update(r['album'])
      r.redirect
    end
  end
end
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/23">

<div class="notes">
<p>Roda ships with over 50 plugins to handle wide variety of use cases, so unlike when using most other small web frameworks, you don&#x2019;t have to recreate the wheel.|Roda has plugins for features like asset packaging, template streaming, and sending emails using a routing tree.</p>
</div>
<h1 style="font-size: 400px; position: absolute; left: 20px; bottom: 100px;">50+</h1><h1 style="font-size: 120px; position: absolute; left: 470px; bottom: 50px;">Plugins</h1></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/24">

<div class="notes">
<p>Like other small web frameworks, Roda scales down well to handle small sites easily.</p>
</div>
<h1 style="font-size: 200px; text-align: center; margin-top: 320px;">Scales &#x2193;</h1></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/25">

<div class="notes">
<p>Unlike other small web frameworks, Roda scales up well, with multiple plugins designed to make it simple to structure large sites while still keeping the benefits of using a routing tree.|Roda makes it easy to start with a small site, and grow gradually into a large site.</p>
</div>
<h1 style="font-size: 200px; text-align: center; margin-top: 120px;">Scales &#x2191;</h1></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/26">

<div class="notes">
<p>In addition to making it simpler to write applications, Roda is the first ruby web framework designed with immutability in mind.|Roda apps are designed to be frozen in production, eliminating most possible thread safety issues in the framework.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
Roda.route do |r|
  "Hello world!"
end
<b>Roda.freeze</b>
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/27">

<div class="notes">
<p>Roda makes it easy to secure your web applications, with plugins and options to avoid cross site scripting, cross site request forgery, click jacking, and insecure access.</p>
</div>
<pre class="sh_ruby" style="font-size: 32px; margin-top: 10px;"><code>require 'roda'
Roda.plugin :render, :escape=&gt;true
Roda.plugin :csrf
Roda.plugin :default_headers,
  'X-Frame-Options'=&gt;'deny'
  'Strict-Transport-Security'=&gt;'max-age=16070400;'
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/28">

<div class="notes">
<p>Finally, Roda is also one of the fastest ruby web frameworks.</p>
</div>
<h1 style="font-size: 150px; text-align: center; margin-top: 120px;">Performance</h1></div>
</div><div id="slides/slides" class="slide bg-runtime" data-transition="none"><div class="content bg-runtime" ref="slides/slides/29">

<div class="notes">
<p>Using the r10k synthetic benchmarker, Roda is over 15x faster than Rails or Sinatra for applications with large numbers of routes. But synthetic benchmarks are pretty meaningless.|In real world applications with a couple hundred routes, I&#x2019;ve found Roda can be 50% faster than Sinatra and twice as fast as Rails.</p>
</div>
</div>
</div><div id="slides/slides" class="slide bg-memory" data-transition="none"><div class="content bg-memory" ref="slides/slides/30">

<div class="notes">
<p>For applications with large numbers of routes, r10k has Sinatra using 70% more memory than Roda, and Rails using over three times as much memory.|In real world apps with a couple hundred routes, I&#x2019;ve found Rails uses 2/3 more memory than Roda.</p>
</div>
</div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/31">

<div class="notes">
<p>Have a slow Rails app that you want to speed up? Load the middleware plugin into Roda and load the Roda app as middleware in your Rails app.|Any route the Roda app doesn&#x2019;t handle will call the Rails app, allowing you to speed up your bottlenecks while still using Rails for less performance sensitive code.</p>
</div>
<pre class="sh_ruby" style="font-size: 40px; margin-top: 10px;"><code>require 'roda'
<b>Roda.plugin :middleware</b>

# Rails
config.middleware.use <b>Roda</b>
</code></pre></div>
</div><div id="slides/slides" class="slide " data-transition="none"><div class="content " ref="slides/slides/32">

<div class="notes">
<p>Simplicitity, Extensibility, Reliability, and Performance. These are Roda&#x2019;s four core values.</p>
</div>
<div class="review">Values</div><h1 style="font-size: 130px; margin-left: 20px; margin-top: 80px;">Simplicity</h1><h1 style="font-size: 130px; text-align: right; margin-right: 20px; margin-top: 30px;">Extensibility</h1><h1 style="font-size: 130px; margin-left: 20px; margin-top: 30px;">Reliability</h1><h1 style="font-size: 130px; text-align: right; margin-right: 20px; margin-top: 30px;">Performance</h1></div>
</div><div id="slides/slides" class="slide bg-roda" data-transition="none"><div class="content bg-roda" ref="slides/slides/33">

<div class="notes">
<p>If you share those values and want to learn more about Roda, check out roda.jeremyevans.net for details, or just come talk to me. Thanks for listening!</p>
</div>
<h1 style="text-align: left; margin-left: 50px; margin-top: 580px; font-size: 70px; color: white;">http://roda.jeremyevans.net</h1></div>
</div></div>

</body>
</html>
